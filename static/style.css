 /* =====================================================================
   PixiText CSS (organized)
   - æ—¢å­˜ãƒ‡ã‚¶ã‚¤ãƒ³ç¶­æŒï¼ˆæŒ™å‹•ã¯å¯èƒ½ãªé™ã‚Šãã®ã¾ã¾ï¼‰
   - é‡è¤‡/é€£ç¶šä¸Šæ›¸ãã‚’æ•´ç†ï¼ˆAuth / chapter-title / pixiv img ç­‰ï¼‰
   - ç« ç«‹ã¦ã‚³ãƒ¡ãƒ³ãƒˆã‚’è¿½åŠ ã—ã¦èª­ã¿ã‚„ã™ã
   ===================================================================== */

/* =========================================================
   Contents
   00 Variables / Tokens
   01 Base / Reset
   02 Layout
   03 Header / Nav / Footer
   04 Panels / Headings / Common UI
   05 Forms / Inputs / Buttons
   06 Editor / Toolbar / Shortcuts
   07 Document / Preview / Pager
   08 Gallery / Saves / Upload
   09 Modal / Toast / Flash
   10 Auth (Login)
   11 Utilities / Overrides / Mobile
   ========================================================= */

/* =====================================================================
   PixiText CSS (Refactored & De-duped)
   - ãƒ€ãƒ¼ã‚¯ãƒˆãƒ¼ãƒ³å›ºå®š
   - ç« è¦‹å‡ºã—/åŒºåˆ‡ã‚Šã ã‘â€œã‚­ãƒªãƒƒâ€ã‚’å¼·åŒ–
   - æ—¢å­˜UIã®è¦‹ãŸç›®ã¯ç¶­æŒï¼ˆå±é™ºãª!importantå‰Šæ¸›ï¼‰
   ===================================================================== */


/* ===== @01 Variables & Fonts (:root) ===== */
:root{
  /* åŸºæœ¬ãƒˆãƒ¼ãƒ³ */
  --bg:#040916;
  --bg-alt:#09132a;
  --card:rgba(13,22,41,.88);
  --card-strong:rgba(9,16,32,.92);
  --elev:rgba(20,32,56,.88);
  --fg:#eef3ff;
  --muted:#9db1ce;
  --border:rgba(100,132,196,.24);
  --shadow:0 28px 80px rgba(4,9,22,.68);

  /* ã‚¢ã‚¯ã‚»ãƒ³ãƒˆ */
  --accent:#65b1ff;
  --accent-2:#a78bfa;
  --accent-3:#5fe0c7;
  --accent-soft:rgba(101,177,255,.18);

  /* æ„å‘³è‰² */
  --ok:#64d4a1;
  --danger:#f06a7a;

  /* ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ç¨® */
  --primary-1:#3866ff;
  --primary-2:#5bd6ff;
  --danger-1:#b93544;
  --danger-2:#671f29;

  /* å¯¸æ³•ãƒ»ãƒ•ã‚©ãƒ³ãƒˆ */
  --radius:16px;
  --radius-sm:12px;
  --radius-lg:24px;
  --gap:20px;
  --gap-sm:12px;
  --gap-lg:28px;
  --pager-height:72px;
  --mono:ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
  --sans:"Inter", "Noto Sans JP", "Hiragino Kaku Gothic ProN", "Meiryo", system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
}


/* ===== @02 Base ===== */
*{ box-sizing:border-box; }
html,body{ height:100%; }

:root { color-scheme: dark; }

body{
  margin:0;
  font-family:var(--sans);
  background:var(--bg);
  color:var(--fg);
  min-height:100%;
  line-height:1.6;
}

body.theme-night{
  background:radial-gradient(circle at top left, rgba(88,128,255,.12), transparent 55%),
             radial-gradient(circle at 20% 80%, rgba(88,255,210,.08), transparent 55%),
             radial-gradient(circle at 85% 25%, rgba(167,139,250,.12), transparent 55%),
             var(--bg);
}

.site-background{
  position:fixed;
  inset:0;
  pointer-events:none;
  background:
    linear-gradient(125deg, rgba(41,76,170,.16), transparent 55%),
    linear-gradient(315deg, rgba(94,169,255,.12), transparent 50%),
    linear-gradient(180deg, rgba(12,24,48,.9), rgba(6,10,22,.9));
  filter:blur(0px);
  z-index:-2;
}

.container{
  width:min(1180px, calc(100% - 40px));
  margin:0 auto;
}

.site-main{
  padding:calc(28px + 1vw) 0 80px;
  display:grid;
  gap:var(--gap-lg);
}

.site-main > *{
  animation:riseIn .6s ease both;
}

.site-main > *:nth-child(2){ animation-delay:.08s; }
.site-main > *:nth-child(3){ animation-delay:.12s; }

@keyframes riseIn{
  from{ opacity:0; transform:translateY(18px); }
  to{ opacity:1; transform:translateY(0); }
}

a{ color:var(--accent); text-decoration:none; transition:color .2s ease, text-shadow .2s ease; }
a:hover{ text-decoration:none; color:#fff; text-shadow:0 0 12px rgba(101,177,255,.45); }

input, select, textarea, button {
  background-color: var(--elev);
  color: var(--fg);
}

textarea,
input[type="text"],
select,
.mg-code{
  width:100%;
  background:linear-gradient(180deg, rgba(14,25,45,.85), rgba(8,14,26,.9));
  border:1px solid rgba(96,128,190,.28);
  border-radius:var(--radius-sm);
  padding:14px 16px;
  font-family:var(--mono);
  color:var(--fg);
  transition:border-color .18s ease, box-shadow .18s ease, transform .18s ease;
}

textarea{
  min-height:320px;
  resize:vertical;
  line-height:1.65;
}

textarea:focus,
input[type="text"]:focus,
select:focus{
  border-color:rgba(120,170,255,.7);
  box-shadow:0 0 0 3px rgba(101,177,255,.15);
}


/* ===== @03 Header & Footer ===== */
.site-header{
  position:sticky;
  top:0;
  z-index:40;
  backdrop-filter:saturate(1.2) blur(14px);
  -webkit-backdrop-filter:saturate(1.2) blur(14px);
  background:linear-gradient(180deg, rgba(9,15,32,.78), rgba(7,11,24,.9));
  border-bottom:1px solid rgba(112,146,210,.25);
  box-shadow:0 14px 40px rgba(3,8,20,.45);
}

.site-header__inner{
  display:flex;
  align-items:center;
  gap:clamp(12px, 2vw, 28px);
  padding:18px 0;
}

.site-brand{
  display:flex;
  align-items:center;
  gap:16px;
  font-weight:700;
  color:#fff;
}

.site-brand__icon{
  width:42px;
  height:42px;
  border-radius:14px;
  background:linear-gradient(135deg, rgba(88,144,255,.85), rgba(94,225,255,.7));
  box-shadow:0 10px 26px rgba(77,140,255,.35);
  position:relative;
}

.site-brand__icon::after{
  content:"ğŸ‘½ï¸";
  position:absolute;
  inset:0;
  display:grid;
  place-items:center;
  font-size:18px;
  color:#0a1328;
}

.site-brand__text{
  display:flex;
  flex-direction:column;
  gap:2px;
}

.site-brand__title{
  font-size:1.1rem;
  letter-spacing:.04em;
}

.site-brand__tagline{
  font-size:.75rem;
  color:rgba(220,230,255,.75);
  letter-spacing:.08em;
  text-transform:uppercase;
}

.site-nav{
  display:flex;
  align-items:center;
  gap:12px;
  margin-left:auto;
}

.nav-link{
  position:relative;
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:10px 16px;
  border-radius:999px;
  font-size:.93rem;
  font-weight:600;
  color:rgba(220,230,255,.8);
  transition:color .2s ease, background .2s ease, transform .2s ease, box-shadow .2s ease;
}

.nav-link::after{
  content:"";
  position:absolute;
  inset:0;
  border-radius:999px;
  background:linear-gradient(135deg, rgba(88,144,255,.22), rgba(167,139,250,.18));
  opacity:0;
  transition:opacity .2s ease;
  z-index:-1;
}

.nav-link:hover,
.nav-link:focus-visible{
  color:#fff;
  transform:translateY(-1px);
}

.nav-link:hover::after,
.nav-link:focus-visible::after,
.nav-link.active::after{ opacity:1; }

.nav-link.active{ color:#fff; box-shadow:0 0 0 1px rgba(120,170,255,.2), 0 12px 24px rgba(38,82,180,.28); }

.nav-cta{
  margin-left:clamp(8px, 3vw, 24px);
  background:linear-gradient(135deg, rgba(101,177,255,.3), rgba(101,177,255,.12));
  border:1px solid rgba(120,170,255,.4);
  box-shadow:0 10px 26px rgba(50,110,210,.32);
}

.nav-cta:hover{ background:linear-gradient(135deg, rgba(101,177,255,.45), rgba(101,177,255,.2)); }

.site-footer{
  background:linear-gradient(180deg, rgba(7,12,24,.94), rgba(5,8,18,.98));
  border-top:1px solid rgba(110,138,198,.22);
  padding:24px 0;
  margin-top:auto;
}

.site-footer__inner{
  display:flex;
  flex-wrap:wrap;
  justify-content:space-between;
  align-items:center;
  gap:12px 18px;
  font-size:.85rem;
  color:rgba(210,220,240,.7);
}

.site-footer__links{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  align-items:center;
}

.site-footer__link{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:8px 14px;
  border-radius:999px;
  border:1px solid rgba(130,170,240,.28);
  background:linear-gradient(135deg, rgba(18,32,62,.86), rgba(12,22,48,.94));
  color:rgba(215,225,245,.85);
  font-size:.82rem;
  letter-spacing:.01em;
  transition:all .2s ease;
}

.site-footer__link:hover,
.site-footer__link:focus-visible{
  color:#fff;
  border-color:rgba(150,200,255,.55);
  box-shadow:0 12px 28px rgba(10,18,40,.4);
}

.site-footer__note{ font-size:.78rem; letter-spacing:.08em; text-transform:uppercase; }


/* ===== @04 Layout ===== */
main{ max-width:none; }


/* ===== @05 Panels & Headings ===== */
.panel{
  position:relative;
  border-radius:var(--radius);
  padding:clamp(24px, 2.5vw + 16px, 36px);
  border:1px solid rgba(118,154,220,.22);
  background:
    linear-gradient(145deg, rgba(100,155,255,.16), rgba(100,238,210,.08)),
    linear-gradient(180deg, rgba(8,14,26,.92), rgba(6,10,22,.96));
  box-shadow:0 28px 64px rgba(5,12,28,.58);
  overflow:hidden;
  isolation:isolate;
}

.panel::before{
  content:"";
  position:absolute;
  inset:-30% 40% auto -30%;
  height:120%;
  background:radial-gradient(circle at top, rgba(120,180,255,.4), transparent 55%);
  opacity:.18;
  pointer-events:none;
  z-index:-1;
}

.panel + .panel{ margin-top:var(--gap-lg); }

h1,h2,h3{ margin:0; letter-spacing:.2px; color:#fff; }
h2{ font-size:clamp(1.32rem, 1.18rem + .7vw, 1.8rem); }
h3{ font-size:clamp(1.08rem, 1rem + .4vw, 1.28rem); opacity:.95; }

.panel-heading{
  display:flex;
  flex-wrap:wrap;
  align-items:flex-end;
  gap:18px;
  margin-bottom:clamp(18px, 1.8vw, 26px);
}

.panel-heading__text{ flex:1; min-width:220px; }

.panel-title{ margin:0; }

.panel-heading--compact{ margin-bottom:12px; }
.panel-heading--compact .panel-title{ font-size:1.12rem; }

.panel-kicker{
  display:inline-flex;
  align-items:center;
  gap:6px;
  font-size:.75rem;
  letter-spacing:.2em;
  text-transform:uppercase;
  color:rgba(200,220,255,.65);
  padding:6px 10px;
  border-radius:999px;
  background:rgba(101,177,255,.14);
  margin-bottom:10px;
}

.panel-description{
  margin-top:10px;
  color:rgba(205,220,245,.76);
  max-width:52ch;
}

.panel-actions{ display:flex; flex-wrap:wrap; gap:10px; align-items:center; }
.panel-actions form{ display:flex; align-items:center; }
.panel-actions form button{ margin:0; }

.panel-divider{
  width:100%;
  height:1px;
  background:linear-gradient(90deg, rgba(120,170,255,.25), rgba(120,170,255,0));
  margin:clamp(18px, 1.4vw, 26px) 0;
}

.panel--cloud{
  overflow:visible;
}

.cloud-links{
  margin-top:clamp(18px, 2vw, 28px);
  display:grid;
  gap:clamp(16px, 1.8vw, 26px);
  grid-template-columns:repeat(auto-fit, minmax(240px, 1fr));
}

.cloud-link-card{
  padding:22px;
  border-radius:18px;
  border:1px solid rgba(130,180,255,.28);
  background:linear-gradient(140deg, rgba(28,52,96,.58), rgba(18,34,68,.78));
  box-shadow:0 20px 46px rgba(6,16,36,.48);
  display:flex;
  flex-direction:column;
  gap:14px;
}

.cloud-link-card__title{
  font-size:1.05rem;
  letter-spacing:.01em;
}

.cloud-link-card__text{
  margin:0;
  color:rgba(210,225,245,.78);
  line-height:1.65;
}

.cloud-link-card__text code{
  padding:2px 6px;
  border-radius:6px;
  background:rgba(20,36,70,.7);
  border:1px solid rgba(120,170,255,.35);
  color:rgba(230,240,255,.92);
  font-size:.85rem;
}

.cloud-link-card .link-button{
  margin-top:auto;
  align-self:flex-start;
}

.cloud-note{
  margin-top:clamp(18px, 1.6vw, 24px);
  color:rgba(195,210,235,.7);
  font-size:.9rem;
  line-height:1.6;
}

.cloud-note ul{
  margin:8px 0 14px 1.2em;
  padding-left:1.1em;
  list-style:disc;
}

.cloud-note ul li{
  margin:4px 0;
}

.cloud-note--accent{
  color:rgba(235,245,255,.82);
}

.cloud-callout{
  margin:clamp(18px, 1.4vw, 24px) 0;
  padding:18px 20px;
  border-radius:16px;
  border:1px solid rgba(125,180,255,.32);
  background:linear-gradient(145deg, rgba(24,46,88,.6), rgba(16,30,64,.72));
  box-shadow:0 16px 36px rgba(8,18,40,.42);
  display:flex;
  flex-wrap:wrap;
  gap:14px 20px;
  align-items:center;
}

.cloud-callout-stack{
  display:flex;
  flex-direction:column;
  gap:clamp(14px, 1.2vw, 20px);
  margin:clamp(18px, 1.4vw, 24px) 0;
}

.cloud-callout-stack .cloud-callout{
  margin:0;
}

.cloud-callout__badge{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding:6px 14px;
  border-radius:999px;
  background:rgba(120,190,255,.28);
  border:1px solid rgba(140,200,255,.4);
  font-size:.78rem;
  letter-spacing:.18em;
  text-transform:uppercase;
  color:rgba(235,245,255,.88);
}

.cloud-callout__text{
  margin:0;
  color:rgba(205,220,245,.82);
  font-size:.92rem;
  line-height:1.55;
}

.cloud-callout__text a{
  color:var(--accent-3);
  text-decoration:underline;
}

.cloud-callout__text a:hover,
.cloud-callout__text a:focus-visible{
  color:#fff;
}

.cloud-link-card__meta{
  display:inline-block;
  margin-left:6px;
  padding:0 6px;
  border-radius:10px;
  background:rgba(120,180,255,.18);
  border:1px solid rgba(120,180,255,.28);
  font-size:.78rem;
  color:rgba(210,225,250,.82);
}


/* ===== Hero ===== */
.hero-card{
  position:relative;
  padding:clamp(32px, 3vw + 20px, 56px);
  border-radius:calc(var(--radius-lg) + 4px);
  background:linear-gradient(145deg, rgba(34,60,128,.65), rgba(10,20,44,.92)),
             radial-gradient(circle at 20% 20%, rgba(120,180,255,.25), transparent 55%),
             radial-gradient(circle at 80% 10%, rgba(95,224,210,.18), transparent 55%);
  border:1px solid rgba(128,170,240,.28);
  box-shadow:0 36px 88px rgba(6,12,32,.6);
  overflow:hidden;
  isolation:isolate;
}

.hero-card::after{
  content:"";
  position:absolute;
  inset:auto -40% -60% -40%;
  height:130%;
  background:radial-gradient(circle at 50% 0, rgba(255,255,255,.35), transparent 70%);
  opacity:.4;
  pointer-events:none;
}

.hero-card__badge{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:8px 14px;
  border-radius:999px;
  background:rgba(6,14,32,.6);
  border:1px solid rgba(140,190,255,.45);
  color:#dce6ff;
  font-weight:600;
  letter-spacing:.16em;
  text-transform:uppercase;
}

.hero-card__title{
  margin:22px 0 12px;
  font-size:clamp(2rem, 1.7rem + 1.5vw, 2.8rem);
  font-weight:800;
  letter-spacing:.02em;
}

.hero-card__lead{
  max-width:60ch;
  color:rgba(225,235,255,.85);
  font-size:1.05rem;
  margin-bottom:24px;
}

.hero-actions{ display:flex; flex-wrap:wrap; gap:14px; }


/* ===== Responsive ===== */
@media (max-width: 960px){
  .site-header__inner{ flex-wrap:wrap; align-items:flex-start; }
  .site-nav{ order:3; width:100%; justify-content:flex-start; flex-wrap:wrap; gap:10px; margin-left:0; }
  .nav-cta{ margin-left:0; margin-top:8px; }
  .site-brand{ margin-bottom:10px; }
  .hero-card{ padding:clamp(28px, 6vw, 48px); }
}

@media (max-width: 720px){
  .toolbar{ flex-direction:column; align-items:stretch; }
  .toolbar label{ width:100%; justify-content:space-between; }
  .toolbar input[name="filename"]{ width:100%; }
  .hero-actions{ width:100%; }
  .hero-actions .link-button{ flex:1; justify-content:center; }
  .panel-actions{ width:100%; }
}

@media (max-width: 560px){
  .site-main{ padding:32px 0 72px; }
  .container{ width:min(100%, calc(100% - 24px)); }
  .panel{ padding:24px; }
  .mg-grid{ grid-template-columns:repeat(auto-fill,minmax(180px,1fr)); }
  .toolbar{ padding:14px; }
}


/* ===== @06 Inputs & Buttons ===== */
button,
.btn{
  appearance:none;
  border:1px solid rgba(118,154,220,.32);
  color:var(--fg);
  cursor:pointer;
  background:linear-gradient(135deg, rgba(88,144,255,.42), rgba(88,144,255,.24));
  padding:12px 18px;
  border-radius:12px;
  font-weight:700;
  letter-spacing:.02em;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:8px;
  transition:transform .12s ease, filter .16s ease, box-shadow .16s ease, border-color .16s ease;
}

button:hover,
.btn:hover{
  filter:brightness(1.08);
  border-color:rgba(140,190,255,.55);
  box-shadow:0 16px 32px rgba(54,102,210,.28);
}

button:active,
.btn:active{ transform:translateY(1px); }

button.primary,
.btn.primary{
  background:linear-gradient(135deg, var(--primary-1), var(--primary-2));
  border-color:rgba(120,180,255,.65);
  color:#041022;
  text-shadow:0 1px 0 rgba(255,255,255,.4);
}

button.primary:hover,
.btn.primary:hover{
  filter:brightness(1.05);
  box-shadow:0 18px 36px rgba(68,140,255,.35);
}

button.danger,
.btn.danger{
  background:linear-gradient(135deg, rgba(235,88,112,.85), rgba(148,36,48,.9));
  border-color:rgba(235,120,140,.55);
  color:#fff;
  text-shadow:0 1px 0 rgba(0,0,0,.18);
}

.link-button,
.back-button{
  display:inline-flex;
  align-items:center;
  gap:10px;
  padding:12px 20px;
  border-radius:12px;
  border:1px solid rgba(130,170,240,.32);
  background:linear-gradient(135deg, rgba(17,30,60,.9), rgba(12,20,44,.94));
  color:var(--fg);
  font-weight:600;
  font-size:.95rem;
  letter-spacing:.02em;
  box-shadow:0 18px 36px rgba(4,10,28,.5);
  transition:transform .2s ease, box-shadow .2s ease, border-color .2s ease, color .2s ease;
}

.link-button:hover,
.back-button:hover{
  color:#fff;
  border-color:rgba(140,190,255,.6);
  transform:translateY(-1px);
  box-shadow:0 24px 42px rgba(8,16,40,.55);
}

.back-button .icon{ font-size:1rem; color:var(--accent-3); transition:color .25s ease; }
.back-button:hover .icon{ color:#fff; }

.link-button.subtle{
  background:linear-gradient(135deg, rgba(14,24,48,.88), rgba(10,20,40,.95));
  border-color:rgba(130,160,230,.26);
  color:rgba(215,225,245,.85);
}

.link-button.subtle:hover{ color:#fff; }

.link-button.primary{
  background:linear-gradient(135deg, var(--primary-1), var(--primary-2));
  border-color:rgba(120,180,255,.55);
  color:#041022;
  text-shadow:0 1px 0 rgba(255,255,255,.4);
}

.link-button.primary:hover{ color:#041022; }

.hero-actions .link-button{ min-width:180px; justify-content:center; }

/* ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒ ã®ä¸¦ã³ã¨é–“éš”ã‚’çµ±ä¸€ */
form[action*="upload"]{
  display:flex;
  flex-direction:column;
  gap:16px;
  margin-top:12px;
}

form[action*="upload"] .file-uploader{ width:100%; }

form[action*="upload"] button[type="submit"]{ align-self:stretch; }

.empty-hint{ color:rgba(205,220,245,.7); margin-top:12px; }
/* ===== @07 Toolbar & Shortcuts ===== */
.toolbar{
  display:flex;
  flex-wrap:wrap;
  align-items:center;
  gap:12px 16px;
  margin:18px 0 28px;
  padding:16px 18px;
  border-radius:var(--radius);
  background:linear-gradient(145deg, rgba(16,26,48,.85), rgba(10,18,38,.9));
  border:1px solid rgba(118,154,220,.2);
  box-shadow:0 18px 40px rgba(4,10,26,.45);
}

.toolbar label{
  display:inline-flex;
  align-items:center;
  gap:10px;
  color:rgba(205,220,245,.76);
  font-size:.92rem;
  white-space:nowrap;
}

.toolbar label select{ min-width:110px; }

.toolbar input[name="filename"]{
  background:linear-gradient(180deg, rgba(15,26,48,.86), rgba(8,14,28,.92));
  color:var(--fg);
  border:1px solid rgba(120,160,220,.28);
  border-radius:var(--radius-sm);
  padding:10px 14px;
}

.toolbar input[name="filename"]::placeholder{ color:rgba(170,190,220,.7); }

.shortcut-bar{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  margin:12px 0 18px;
}

.shortcut-bar .ins{
  background:linear-gradient(135deg, rgba(42,60,110,.88), rgba(24,34,72,.92));
  color:#93b9ff;
  border:1px solid rgba(120,170,255,.32);
  border-radius:999px;
  padding:6px 14px;
  font:600 .86rem/1 var(--sans);
  letter-spacing:.03em;
  transition:transform .12s ease, box-shadow .16s ease;
}

.shortcut-bar .ins:hover{ transform:translateY(-1px); box-shadow:0 12px 20px rgba(16,32,72,.4); }


/* ===== @08 Chapter Title ===== */
.chapter,
.chapter-title{
  font-size: clamp(1.35rem, 1.1rem + .9vw, 1.9rem); font-weight:800;
  margin:10px 0 14px; padding-left:14px; line-height:1.35; border-left:4px solid color-mix(in srgb, var(--accent) 85%, #fff 0%);
}

/* ç« è¦‹å‡ºã—ãƒ»æ®µè½ã®æœ€çµ‚çµ±ä¸€ï¼ˆé‡è¤‡æ’é™¤æ¸ˆã¿ï¼‰ */
.document .page .page-inner h2.chapter,
.document .page .page-inner h2.chapter-title{ margin-top:0; margin-bottom:1.6em; line-height:1.4; }
.document .page .page-inner h2.chapter + p,
.document .page .page-inner h2.chapter-title + p{ margin-top:.8em; }
.document .page .page-inner h2.chapter + .blankline,
.document .page .page-inner h2.chapter-title + .blankline{ height:1.2em; }
.blankline{ height:1em; }
.document .page-inner p{ margin:0; line-height:1.9; }
.document .page-inner p + p{ margin-top:1em; }


/* ===== @09 Document Preview ===== */
.panel--preview-page{ position:relative; padding-bottom:calc(var(--pager-height) + 28px); }
.panel--preview-page .rendered{ margin-bottom:28px; }

.document .page{
  max-width:780px;
  margin:32px auto;
  border-radius:var(--radius-lg);
  border:1px solid rgba(122,162,230,.24);
  background:linear-gradient(160deg, rgba(16,28,56,.95), rgba(10,18,40,.94));
  box-shadow:0 30px 72px rgba(6,12,30,.6);
  overflow:hidden;
}

.document .page .page-inner{
  padding:clamp(32px, 3vw, 48px);
  background:radial-gradient(circle at top, rgba(90,132,220,.1), transparent 55%);
}
.document.horizontal .page .page-inner{ writing-mode:horizontal-tb; }
.document.vertical .page .page-inner{ writing-mode:vertical-rl; text-orientation:mixed; }
.document .page + .page{ margin-top:44px; }
ruby rt{ font-size:.62em; color:var(--muted); }
a.jump{ text-decoration:underline; cursor:pointer; }


/* ===== @10 Bottom Pager ===== */
.bottom-pager{
  position:fixed; left:0; right:0; bottom:0; height:var(--pager-height); z-index:999;
  display:flex; align-items:center; justify-content:center;
  background:linear-gradient(180deg, rgba(10,18,36,.88), rgba(4,8,18,.94));
  border-top:1px solid rgba(122,162,230,.28);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  box-shadow:0 -18px 32px rgba(4,8,18,.55);
}
.bottom-pager .pager-center{ display:flex; gap:16px; }
.bottom-pager .page-number{
  display:inline-flex; align-items:center; justify-content:center;
  width:38px; height:38px;
  border-radius:999px;
  background:rgba(40,60,110,.42);
  color:#dce6ff;
  font-weight:700;
  transition:transform .12s ease, box-shadow .16s ease, background .16s ease;
}

.bottom-pager .page-number:hover{ transform:translateY(-2px); box-shadow:0 10px 16px rgba(18,36,80,.35); }

.bottom-pager .page-number.active{
  background:linear-gradient(135deg, rgba(120,180,255,.85), rgba(95,224,210,.8));
  color:#0b1220;
  box-shadow:0 16px 26px rgba(48,102,200,.4);
}

.bottom-pager .page-arrow{ color:rgba(210,220,240,.72); font-size:18px; }


/* ===== @11 Mini Gallery ===== */
.mg-grid{ --mg-gap:18px; display:grid; grid-template-columns:repeat(auto-fill,minmax(220px,1fr)); gap:var(--mg-gap); margin-top:16px; }
.mg-grid.mg-grid-lg{ grid-template-columns:repeat(auto-fill,minmax(260px,1fr)); }
.mg-grid.mg-grid-wide{ grid-template-columns:repeat(auto-fill,minmax(260px,1fr)); }

.mg-card{
  position:relative;
  border-radius:var(--radius);
  background:linear-gradient(150deg, rgba(18,28,54,.95), rgba(10,18,36,.92));
  border:1px solid rgba(122,162,230,.24);
  overflow:hidden;
  box-shadow:0 24px 46px rgba(4,10,24,.55);
  transition:transform .16s ease, box-shadow .16s ease, border-color .16s ease;
}

.mg-card::after{
  content:"";
  position:absolute;
  inset:auto -30% -60% -30%;
  height:120%;
  background:radial-gradient(circle at 50% 0, rgba(110,170,255,.28), transparent 70%);
  opacity:.4;
  pointer-events:none;
}

.mg-card:hover{ transform:translateY(-4px); box-shadow:0 26px 48px rgba(6,14,34,.6); border-color:rgba(140,190,255,.4); }

.mg-thumb{ position:relative; background:#050910; overflow:hidden; }
.mg-thumb::before{ content:""; display:block; padding-top:66.666%; }
.mg-thumb > img{ position:absolute; inset:0; width:100%; height:100%; object-fit:cover; object-position:center; }
.mg-body{ padding:18px; position:relative; z-index:1; }
.mg-id{ font:700 .95rem/1.2 var(--sans); letter-spacing:.08em; color:#f0f4ff; }
.mg-name{ color:rgba(200,210,230,.7); font-size:.86rem; margin-top:6px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.mg-actions{ display:flex; align-items:center; gap:10px; margin-top:14px; }
.mg-code{
  flex:1;
  background:linear-gradient(135deg, rgba(10,18,36,.92), rgba(8,14,28,.95));
  color:#e2e9ff;
  border:1px solid rgba(120,160,220,.32);
  border-radius:12px;
  font:700 .82rem/1.1 var(--mono);
  padding:10px 12px;
  height:38px;
  display:flex;
  align-items:center;
}

.mg-btn{
  background:linear-gradient(135deg, rgba(44,68,120,.88), rgba(30,48,92,.9));
  color:#e8efff;
  border:1px solid rgba(128,168,240,.32);
  border-radius:12px;
  padding:10px 14px;
  font:700 .82rem/1 var(--sans);
  cursor:pointer;
  height:38px;
  display:flex;
  align-items:center;
  transition:transform .12s ease, box-shadow .16s ease, border-color .16s ease;
}

.mg-btn:hover{ transform:translateY(-1px); box-shadow:0 16px 24px rgba(12,24,56,.4); border-color:rgba(140,190,255,.42); }

.mg-btn.delete{ background:linear-gradient(135deg, rgba(226,88,110,.85), rgba(142,36,48,.9)); border:1px solid rgba(226,110,134,.55); color:#fff; }
.mg-toplink{ margin-top:16px; }


/* ===== @12 File Uploader ===== */
.file-uploader{
  display:flex;
  align-items:center;
  gap:14px;
  width:100%;
  background:linear-gradient(145deg, rgba(16,26,48,.9), rgba(10,20,40,.94));
  border:1px solid rgba(118,154,220,.24);
  border-radius:var(--radius);
  padding:12px 16px;
  position:relative;
  box-shadow:0 18px 36px rgba(4,10,26,.45);
}

.file-uploader input[type="file"]{ position:absolute; inset:0; opacity:0; cursor:pointer; }

.file-uploader .fu-btn{
  padding:10px 16px;
  border-radius:12px;
  font-weight:700;
  background:linear-gradient(135deg, var(--primary-1), var(--primary-2));
  border:1px solid rgba(120,180,255,.55);
  color:#041022;
  white-space:nowrap;
  transition:transform .12s ease, box-shadow .16s ease;
}

.file-uploader .fu-btn:hover{ transform:translateY(-1px); box-shadow:0 16px 24px rgba(40,110,220,.35); }

.file-uploader .fu-name{
  flex:1;
  min-width:0;
  color:rgba(205,220,245,.75);
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;
}


/* ===== @13 Scrollbar (Chromium) ===== */
*::-webkit-scrollbar{ width:10px; height:10px; }
*::-webkit-scrollbar-thumb{ background:#2b3243; border-radius:999px; }
*::-webkit-scrollbar-track{ background:transparent; }


/* ===== @14 Toast ===== */
.toast-alert{
  position:fixed; left:50%; bottom:-60px; transform:translateX(-50%);
  background:linear-gradient(135deg,#3a7bff,#68b0ff);
  color:#fff; padding:12px 22px; border-radius:10px; font-weight:600; font-size:.95rem;
  box-shadow:0 6px 20px rgba(0,0,0,.4); opacity:0; z-index:1500; transition:all .35s ease;
}
.toast-alert.show{ bottom:28px; opacity:1; }


/* ===== @15 Flash (Flask) ===== */
.flash-container{ position:fixed; bottom:30px; left:50%; transform:translateX(-50%); z-index:1000; display:none !important; }
.flash{ background:rgba(30,40,60,.9); color:#fff; padding:10px 20px; border-radius:8px; font-size:14px; animation: fadeInOut 2.5s ease; }
.flash.success{ border:1px solid #4caf50; } .flash.error{ border:1px solid #e53935; }
@keyframes fadeInOut{ 0%,100%{ opacity:0; transform:translate(-50%,20px);} 10%,90%{ opacity:1; transform:translate(-50%,0);} }


/* ===== @16 Modal ===== */
.modal-overlay{
  position:fixed; inset:0; background:rgba(0,0,0,.55);
  display:none; align-items:center; justify-content:center; z-index:9999;
  opacity:0; transition:opacity .25s ease;
}
.modal-overlay.show{ display:flex; opacity:1; }
.modal-dialog{
  width:min(520px, calc(100% - 32px));
  background:linear-gradient(180deg, #151b2a, #121726);
  border:1px solid #253049; border-radius:14px; box-shadow:0 18px 60px rgba(0,0,0,.45);
  color:#e7edf8; padding:18px; text-align:left; animation: modalFadeIn .2s ease;
}
@keyframes modalFadeIn{ from{ transform:scale(.95); opacity:0;} to{ transform:scale(1); opacity:1;} }
.modal-dialog h3{ margin:0 0 8px; font-size:1.05rem; letter-spacing:.2px; }
.modal-dialog p{ margin:0 0 14px; color:#a6b3c9; line-height:1.6; }
.modal-actions{ display:flex; gap:10px; justify-content:flex-end; }
.modal-actions .btn{ appearance:none; border:1px solid #2b3246; background:linear-gradient(180deg, #242b3f, #1b2133); color:#e7edf8; padding:9px 14px; border-radius:10px; cursor:pointer; }
.modal-actions .btn.danger{ border-color:#6f2d39; background:linear-gradient(180deg, #5a2730, #401e24); }
.modal-actions .btn:hover{ filter:brightness(1.08); }


/* === Preview / Rendered images =================================== */

/* å›²ã¿ãƒ–ãƒ­ãƒƒã‚¯ã®ãƒ™ãƒ¼ã‚¹ */
.rendered .illustration,
.document .illustration{
  margin: 14px auto;
  text-align: center;
}

.rendered .pixiv-illustration,
.document .pixiv-illustration{
  margin: 18px auto;
  text-align: center;
}

/*
  Keep the container/overlay selectors (including the --image variant) in sync
  with parser.py::_render_pixiv_embed and export.html. They ensure the iframe or
  proxied <img> fills the figure while keeping the entire illustration clickable
  even after conflict resolutions.
*/
.pixiv-illustration .pixiv-embed-container{
  position: relative;
  display: inline-block;
}

.pixiv-illustration .pixiv-embed-container--image{
  position: relative;
  display: inline-block;
}

/* ç”»åƒã‚µã‚¤ã‚ºã®æ¨™æº–åŒ–ï¼ˆæ¨ªæ›¸ãæƒ³å®šï¼‰ */
.rendered .illustration img,
.document .illustration img{
  display: block;
  width: min(100%, 680px);  /* æ¨ªå¹…ã®ä¸Šé™ï¼ˆå¥½ã¿ã§ 600ã€œ800px ãã‚‰ã„ï¼‰ */
  height: auto;
  max-height: 72vh;         /* ç”»é¢ã‚ˆã‚Šãƒ‡ã‚«ããªã‚Šã™ããªã„ã‚ˆã†ã« */
  object-fit: contain;
  border-radius: 10px;
  box-shadow: 0 12px 36px rgba(0,0,0,.35);
  margin-inline: auto;
}

.rendered .pixiv-illustration img,
.document .pixiv-illustration img{
  display: block;
  width: min(100%, 680px);
  height: auto;
  max-height: 72vh;
  object-fit: contain;
  border-radius: 12px;
  box-shadow: 0 12px 36px rgba(0,0,0,.35);
}

/* The overlay anchor sits on top of the iframe so the full artwork opens Pixiv. */
.pixiv-illustration .pixiv-embed-overlay{
  position: absolute;
  inset: 0;
  display: block;
  border-radius: 12px;
  text-indent: -9999px;
  background: transparent;
}

.pixiv-illustration .pixiv-embed-overlay:focus-visible{
  outline: 3px solid rgba(119,180,255,.85);
  outline-offset: 4px;
}

.pixiv-illustration figcaption{
  margin-top: 8px;
  font-size: .9rem;
  color: #8fa4c5;
}

/* ç¸¦æ›¸ããƒšãƒ¼ã‚¸ã§ã¯å°‘ã—èƒŒã‚’ä½ã‚ã«ï¼ˆãŠå¥½ã¿ã§ï¼‰ */
.document.vertical .illustration img{
  max-width: 90%;
  max-height: 62vh;
}

/* ç”»åƒãŒ .illustration ã˜ã‚ƒãªã„å ´åˆã®ä¿é™ºï¼ˆçµµæ–‡å­—ç­‰ã¯é™¤å¤–ï¼‰ */
.rendered img:not([class*="emoji"]){
  max-width: 100%;
  height: auto;
}

/* ã‚¹ãƒãƒ›å‘ã‘å¾®èª¿æ•´ */
@media (max-width: 600px){
  .rendered .illustration img{
    width: 100%;
    max-height: 60vh;
    border-radius: 8px;
  }
}

.page-text__label{
  display: block;
  margin-bottom: 8px;
  font-weight: 700;
  letter-spacing: .02em;
  color: rgba(210, 225, 250, .8);
}

.page-text__area{
  width: 100%;
  min-height: 320px;
  padding: 14px 16px;
  border: 1px solid rgba(118, 154, 220, .32);
  border-radius: 14px;
  background:
    radial-gradient(circle at 12% 8%, rgba(120, 180, 255, .08), transparent 35%),
    linear-gradient(180deg, rgba(14, 24, 44, .94), rgba(8, 12, 26, .96));
  font-size: 1rem;
  line-height: 1.75;
  color: #e6edfa;
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, .04),
    0 18px 36px rgba(4, 10, 24, .45);
  resize: vertical;
}

.bottom-pager {
  margin-top: 24px;
}
.page-text__area.autosize {
  overflow: hidden;   /* ä¸­ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’ç„¡åŠ¹åŒ– */
  resize: none;       /* ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ‰‹å‹•ãƒªã‚µã‚¤ã‚ºã‚‚ä¸è¦ãªã‚‰ */
}


/* ç¸¦æ›¸ãON */

/* æ¨ªæ›¸ãONï¼ˆå¿µã®ãŸã‚ï¼‰ */
.wm-horizontal .page-text__area {
  writing-mode: horizontal-tb;
  text-orientation: mixed;
  overflow: hidden;
}

/* ç¸¦æ›¸ãæ™‚ã®æœ¬æ–‡ãƒœãƒƒã‚¯ã‚¹ã‚’ç¸¦é•·ã«ã™ã‚‹ */
.wm-vertical .page-text__area {
  writing-mode: vertical-rl;
  text-orientation: mixed;

  flex: 1 1 auto;
  width: auto;

  /* ç¸¦æ›¸ãã¯ã€Œé«˜ã•(=è¡Œã®é•·ã•)ã€ã‚’åˆ¶é™ã—ãªã„ã¨æ¨ªã«å¢—ãˆãªã„ */
  height: 70vh;          /* â˜… max-height ã˜ã‚ƒãªã height æ¨å¥¨ */
  min-height: 60vh;

  line-height: 1.9;
  letter-spacing: 0.05em;
  white-space: pre-wrap;

  overflow: auto;        /* â˜…ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã•ã›ã‚‹ */
  resize: none;
  overscroll-behavior: contain;
  scrollbar-gutter: stable;
}

/* æ¨ªæ›¸ãæ™‚ã®ç« ã‚¿ã‚¤ãƒˆãƒ«ï¼ˆä»Šã¾ã§é€šã‚Šï¼‰ */
.chapter-title {
  font-size: 1.6rem;
  font-weight: 700;
  color: #ffffff;
  padding: 12px 16px;
  margin-bottom: 16px;
  border-left: 4px solid #4da3ff;
  background: linear-gradient(
    to right,
    rgba(77,163,255,0.15),
    rgba(77,163,255,0.02)
  );
  letter-spacing: 0.05em;
}

/* ç¸¦æ›¸ãæ™‚ã®ç« ã‚¿ã‚¤ãƒˆãƒ« */
.wm-vertical .chapter-title {
  writing-mode: vertical-rl;
  text-orientation: mixed;

  flex: 0 0 auto;     /* æœ¬æ–‡ã«æŠ¼ã•ã‚Œãªã„ */
  min-height: 60vh;   /* æœ¬æ–‡ã¨é«˜ã•ã‚’æƒãˆã‚‹ */
  padding: 8px 6px;

  border-top: none;
  border-right: 3px solid #4da3ff; /* ç¸¦æ›¸ãç”¨ã‚¢ã‚¯ã‚»ãƒ³ãƒˆ */
  margin: 0;

  background: linear-gradient(
    to bottom,
    rgba(77,163,255,0.15),
    rgba(77,163,255,0.02)
  );
}

.wm-vertical .rendered {
  display: flex;
  flex-direction: row-reverse; /* å³â†’å·¦ã«é…ç½®ï¼ˆå’Œæ–‡å‘ã‘ï¼‰ */
  gap: 24px;
  align-items: stretch;
}

.page-html{
  white-space: pre-wrap;
  line-height: 1.9;
}

.page-html a{
  text-decoration: underline;
}

.wm-vertical .page-html{
  writing-mode: vertical-rl;
  text-orientation: mixed;
}

.page-box{
  border: 1px solid rgba(255,255,255,0.18);
  border-radius: 14px;
  padding: 18px 20px;
  background: rgba(0,0,0,0.12);
  white-space: pre-wrap;
  line-height: 1.9;
}

/* ç¸¦æ›¸ãæ™‚ã‚‚æœ¬æ–‡ã¨ã—ã¦è¡¨ç¤º */
.wm-vertical .page-box{
  writing-mode: vertical-rl;
  text-orientation: mixed;
}

.blankline + .blankline {
  display: none;
}

/* ç« ã‚¿ã‚¤ãƒˆãƒ«ã®ç›´å‰ã« blankline ãŒã‚ã£ãŸã‚‰æ¶ˆã™ */
.blankline + .chapter,
.blankline + .chapter-title {
  margin-top: 0;
}

/* blankline è‡ªä½“ã‚‚å¼±ã‚ã‚‹ */
.blankline {
  height: 0;
}


/* æœ¬æ–‡HTMLã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ç®±ã‚’ä½œã‚‹ï¼ˆãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼å°‚ç”¨ï¼‰ */
.panel--preview-page .page-html{
  max-height: 72vh;     /* å¥½ã¿ã§ 60ã€œ80vh */
  overflow: auto;       /* ç¸¦ã‚‚æ¨ªã‚‚ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å¯èƒ½ã« */
  padding-right: 6px;   /* ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã¨æ–‡å­—ã®å¹²æ¸‰å›é¿ï¼ˆä»»æ„ï¼‰ */
}

/* é•·ã„URLã‚„è‹±æ•°å­—ã§ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãŒæ­»ã¬ã®ã‚’é˜²ã */
.panel--preview-page .page-html{
  overflow-wrap: anywhere;
  word-break: break-word;
}

/* ===== Selectï¼ˆè¡¨ç¤ºæ–¹å‘ï¼‰ã‚’èª­ã¿ã‚„ã™ã ===== */
.toolbar select{
  background: linear-gradient(180deg, rgba(15,26,48,.90), rgba(8,14,28,.96));
  color: var(--fg);
  border: 1px solid rgba(120,160,220,.34);
  border-radius: 12px;
  padding: 10px 38px 10px 14px; /* å³ã¯çŸ¢å°ã¶ã‚“ä½™è£• */
  font-weight: 700;
  letter-spacing: .02em;
}

/* ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã®å€™è£œï¼ˆåŠ¹ãç’°å¢ƒã§ã¯åŠ¹ãï¼‰ */
.toolbar select option{
  background: #0b1220;
  color: #eef3ff;
}

/* ãƒ•ã‚©ãƒ¼ã‚«ã‚¹æ™‚ã‚’ã‚ã‹ã‚Šã‚„ã™ã */
.toolbar select:focus{
  outline: none;
  border-color: rgba(120,170,255,.75);
  box-shadow: 0 0 0 3px rgba(101,177,255,.18);
}

/* ===== Auth (login) ===== */
.auth{
  min-height: calc(100vh - 80px);
  display: grid;
  place-items: center;
  padding: 24px 16px;
}

/* login.html ã§ã¯ .auth-card ã« .panel ã‚‚ä»˜ã„ã¦ã‚‹ã®ã§ã€
   ã“ã“ã¯â€œpanelã®ãƒˆãƒ¼ãƒ³â€ã«å¯„ã›ã¦æ /å½±ã ã‘æ•´ãˆã‚‹ */
.auth-card{
  width: min(520px, 100%);
  border-radius: var(--radius);
  overflow: hidden;
  border: 1px solid rgba(118,154,220,.22);
  box-shadow: 0 28px 64px rgba(5,12,28,.58);
}

.auth-head{ padding-bottom: 8px; }

.auth-kicker{
  font-size: 12px;
  letter-spacing: .12em;
  text-transform: uppercase;
  opacity: .75;
  margin-bottom: 6px;
}

.auth-form{ padding: 16px 18px 6px; }

.auth-label{
  display: block;
  margin: 12px 0 6px;
  font-size: 13px;
  color: rgba(205,220,245,.76);
}

.auth-field{ position: relative; }

/* å…¥åŠ›æ¬„ã‚’ã‚µã‚¤ãƒˆå…¨ä½“ã®input/textareaã¨åŒã˜ãƒˆãƒ¼ãƒ³ã« */
.auth-input{
  width: 100%;
  padding: 12px 14px;
  border-radius: var(--radius-sm);
  border: 1px solid rgba(96,128,190,.28);
  background: linear-gradient(180deg, rgba(14,25,45,.85), rgba(8,14,26,.90));
  color: var(--fg);
  outline: none;
  transition: border-color .18s ease, box-shadow .18s ease, transform .18s ease;
}

.auth-input::placeholder{
  color: rgba(170,190,220,.7);
}

.auth-input:focus{
  border-color: rgba(120,170,255,.70);
  box-shadow: 0 0 0 3px rgba(101,177,255,.15);
}

.auth-actions{
  margin-top: 16px;
  display: flex;
  gap: 12px;
  align-items: center;
}

.auth-btn{
  min-width: 120px;
  border-radius: 12px;
}

.auth-link{
  opacity: .8;
  text-decoration: none;
  color: rgba(220,230,255,.85);
}

.auth-link:hover{
  opacity: 1;
  text-decoration: underline;
  color: #fff;
}

.auth-alert{
  margin: 12px 18px 0;
  padding: 10px 12px;
  border-radius: 12px;
  background: rgba(240,106,122,.10);
  border: 1px solid rgba(240,106,122,.22);
}

.auth-alert__item{
  font-size: 13px;
  line-height: 1.5;
}

.auth-foot{
  padding: 10px 18px 16px;
  color: rgba(210,220,240,.70);
}

.auth .panel{ overflow: visible; }

/* pixivæŒ¿çµµã®ã€Œä½œå“ã‚’é–‹ãã€è¡¨è¨˜ã‚’å°ã•ãã™ã‚‹ */
figure.pixiv-illustration figcaption {
  font-size: 0.75em;      /* å…¨ä½“ã‚’å°ã•ã */
  opacity: 0.7;           /* å°‘ã—æ§ãˆã‚ã« */
  margin-top: 0.25em;
}

figure.pixiv-illustration figcaption a {
  font-size: inherit;     /* è¦ªã«åˆã‚ã›ã‚‹ */
  text-decoration: none;
}


/* =========================================================
   Savesï¼šä¸€è¦§ã‚’è¦‹ã‚„ã™ãæ•´ãˆã‚‹ï¼ˆæœ€çµ‚èª¿æ•´ï¼‰
   å½±ãƒ»ä½™ç™½ãƒ»æ–‡å­—éšå±¤ãƒ»ã‚¢ã‚¯ã‚·ãƒ§ãƒ³æ•´ç†
   ========================================================= */

.saves-list{
  display: grid;
  gap: 16px;
}

/* ã‚«ãƒ¼ãƒ‰å…¨ä½“ï¼šä½™ç™½ã¨é«˜ã•ã®ãƒ ãƒ©ã‚’æ¶ˆã™ */
.saves-list .mg-card{
  max-width: 980px;
  margin: 0 auto;
  border-radius: 22px;
  overflow: hidden;
  border: 1px solid rgba(140,190,255,.18);
  background:
    radial-gradient(circle at 20% 10%, rgba(120,180,255,.12), transparent 45%),
    linear-gradient(
      180deg,
      rgba(18,28,54,.94)   0%,
      rgba(16,25,48,.94)  35%,
      rgba(13,21,40,.95)  65%,
      rgba(9,16,32,.96)  100%
    );
  box-shadow: 0 18px 46px rgba(3,8,20,.55);
}

/* ã‚¿ã‚¤ãƒˆãƒ«(ãƒ•ã‚¡ã‚¤ãƒ«å)ã¨ãƒ¡ã‚¿ã‚’â€œãƒ˜ãƒƒãƒ€ãƒ¼â€ã¨ã—ã¦æ•´åˆ— */
.saves-list .mg-body{
  padding: 18px 18px 14px;
  display: grid;
  gap: 10px;
  /* è§’ã‚¢ã‚¤ã‚³ãƒ³ã®åˆ†ã ã‘å·¦å³ã¨ä¸Šã«ä½™ç™½ */
  padding-top: 22px;
  padding-left: 58px;
  padding-right: 58px;
  background: transparent;
}

.saves-list .mg-id{
  display: flex;
  align-items: center;
  gap: 10px;
  font-weight: 800;
  letter-spacing: .02em;
  font-size: 1.05rem;
}

/* ãƒ¡ã‚¿æƒ…å ±ã¯èª­ã¿ã‚„ã™ã„ãƒãƒƒãƒ—ã«ï¼ˆæ¨ªå¹…ãŒæš´ã‚Œãªã„ï¼‰ */
.saves-list .mg-name{
  margin-top: 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;

  width: fit-content;
  padding: 6px 10px;
  border-radius: 999px;
  background: rgba(120,180,255,.10);
  border: 1px solid rgba(120,180,255,.16);
  color: rgba(225,235,255,.78);
  font-size: .86rem;
}

/* åŒºåˆ‡ã‚Šç·šãŒè§’ä¸¸ã«é£Ÿã„è¾¼ã¾ãªã„ã‚ˆã†ã« */
/* save-controls è‡ªä½“ã®å¢ƒç•Œæ„Ÿã‚‚å¼±ã‚ã‚‹ */
.saves-list .save-controls{
  margin-top: 8px;
  padding-top: 8px;
  border-top: none;
}
/* åŒºåˆ‡ã‚Šç·šã‚’å®Œå…¨ã«ç„¡åŠ¹åŒ– */
.saves-list .save-controls::before{
  display: none;
}

/* å³å´ãƒœã‚¿ãƒ³ç¾¤ã¯ã¾ã¨ã¾ã‚Šï¼‹æŠ¼ã—ã‚„ã™ã• */
.saves-list .save-actions{
  display: flex;
  align-items: center;
  gap: 10px;
}

/* miniãƒœã‚¿ãƒ³ã‚’â€œã‚¢ã‚¤ã‚³ãƒ³ãƒœã‚¿ãƒ³â€ã¨ã—ã¦çµ±ä¸€ï¼ˆä¸»å¼µã‚’è½ã¨ã™ï¼‰ */
.saves-list .btn.btn-mini{
  width: 44px;
  height: 40px;
  padding: 0;
  border-radius: 14px;
  background: rgba(255,255,255,0.04);
  border-color: rgba(255,255,255,0.10);
  border: 1px solid rgba(255,255,255,0.14);
  box-shadow: none;
}

.saves-list .btn.btn-mini:hover{
  background: rgba(255,255,255,0.12);
  border-color: rgba(140,190,255,0.45);
}

/* ãƒ”ãƒ³ï¼šèƒŒæ™¯ã‚’æ¶ˆã—ã¦â€œUIã®ãƒã‚¤ã‚ºâ€ã‚’æ¸›ã‚‰ã™ */
.saves-list .pin-form .btn.btn-mini{
  background: transparent;
  border-color: rgba(255,255,255,0.12);
}

/* è§’ã‚¢ã‚¤ã‚³ãƒ³ï¼šä½™ç™½ã«é¦´æŸ“ã¾ã›ã‚‹ï¼ˆã‚®ãƒ£ãƒ©ãƒªãƒ¼ã¨åŒã˜ï¼‰ */
.saves-list .corner-left{ top: 10px; left: 10px; }
.saves-list .corner-right{ top: 10px; right: 10px; }

/* è§’ãƒœã‚¿ãƒ³ã¯å°‘ã—å°ã•ã‚ã«ã—ã¦â€œé‚ªé­”ã•â€ã‚’æ¸›ã‚‰ã™ */
.saves-list .corner-btn{
  padding: 6px;
  border-radius: 10px;
  
}
.saves-list .corner-btn img{
  width: 16px;
  height: 16px;
}

/* ãƒ¢ãƒã‚¤ãƒ«ï¼šæ“ä½œã‚’2æ®µã«ã—ã¦æŠ¼ã—ã‚„ã™ã */
@media (max-width: 560px){
  .saves-list .save-controls{
    flex-direction: column;
    align-items: flex-start;
  }
  .saves-list .save-actions{
    width: 100%;
    justify-content: flex-start;
    flex-wrap: wrap;
  }
}




/* =========================================================
   Dark select (FINAL) - keep only this block (fix white dropdown)
   ========================================================= */
select{
  background:rgba(10, 18, 35, 0.85);
  color:#eaf0ff;
  border:1px solid rgba(255,255,255,0.18);
  border-radius:10px;
}

select:focus{
  outline:none;
  border-color:rgba(120, 170, 255, 0.55);
  box-shadow:0 0 0 3px rgba(120, 170, 255, 0.15);
}

select option{
  background:#0b1430;
  color:#eaf0ff;
}

/* =========================================================
   UI Icons (static/picture/*.png)
   ========================================================= */

.ui-icon{
  width:16px;
  height:16px;
  object-fit:contain;
  opacity:.9;
  flex:0 0 auto;
  vertical-align:middle;
}

.nav-icon{
  width:18px;
  height:18px;
  opacity:.92;
}

.mg-btn .ui-icon,
.btn .ui-icon{
  width:14px;
  height:14px;
  opacity:.9;
}

/* ===== ã‚®ãƒ£ãƒ©ãƒªãƒ¼è§’ã‚¢ã‚¤ã‚³ãƒ³ ===== */
.mg-card {
  position: relative;
}

.mg-corner {
  position: absolute;
  inset: 0;
  pointer-events: none; /* ç”»åƒã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’é‚ªé­”ã—ãªã„ */
  z-index: 3;
}

.mg-corner form {
  pointer-events: auto; /* ãƒœã‚¿ãƒ³ã ã‘æ“ä½œå¯ */
}

.corner-left {
  position: absolute;
  top: 6px;
  left: 6px;
}

.corner-right {
  position: absolute;
  top: 6px;
  right: 6px;
}

.corner-btn {
  background: rgba(0,0,0,0.55);
  border: none;
  border-radius: 6px;
  padding: 6px;
  cursor: pointer;
}

.corner-btn img {
  width: 18px;
  height: 18px;
  display: block;
}

.corner-btn:hover {
  background: rgba(0,0,0,0.8);
}

.corner-btn.danger:hover {
  background: rgba(160,0,0,0.85);
}

.corner-btn {
  background: linear-gradient(
    180deg,
    rgba(0,0,0,0.85),
    rgba(0,0,0,0.65)
  );
  border: 1px solid rgba(255,255,255,0.18);
  box-shadow:
    0 4px 12px rgba(0,0,0,0.55),
    inset 0 1px 0 rgba(255,255,255,0.08);
  border-radius: 8px;
  padding: 6px;
}

/* ãƒ›ãƒãƒ¼æ™‚ï¼šã‚ˆã‚Šã€Œæ“ä½œã§ãã‚‹ã€æ„Ÿ */
.corner-btn:hover {
  background: linear-gradient(
    180deg,
    rgba(0,0,0,0.95),
    rgba(0,0,0,0.75)
  );
}

/* éå…¬é–‹ï¼ˆéµï¼‰ã¯å°‘ã—é‡ã */
.corner-btn img[src*="lock"] {
  opacity: 0.95;
}
/* ä¸‹ã«ç´°é•·ã„ã‚³ãƒ”ãƒ¼ */
.copy-wide{
  width:100%;
  margin-top:12px;
  padding:10px 40px;
  border-radius:999px;
  background:linear-gradient(
    135deg,
    rgba(80,120,200,.45),
    rgba(60,90,160,.35)
  );
  border:1px solid rgba(140,180,255,.45);
  color:#eaf0ff;
  font-weight:700;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:8px;
}

.copy-wide:hover{
  filter:brightness(1.1);
}

/* ===== ã‚¿ã‚¤ãƒˆãƒ«æ¨ªã‚³ãƒ”ãƒ¼ ===== */
.mg-title-row{
  display:flex;
  align-items:center;
  gap:8px;
}

.copy-inline:hover{
  background: rgba(255,255,255,0.14);
}
/* ===== ãƒ”ãƒ³ï¼šèƒŒæ™¯ã‚’æ¶ˆã—ã¦åˆ†ã‹ã‚Šã‚„ã™ã ===== */
.btn-ghost{
  background: transparent !important;
  border-color: rgba(255,255,255,0.18) !important;
  box-shadow: none !important;
}

.btn-ghost:hover{
  background: rgba(255,255,255,0.08) !important;
  border-color: rgba(140,190,255,0.55) !important;
}

/* ===== Savesï¼šæ¨ªã«é…åˆ—ï¼ˆãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ï¼‰ ===== */
.saves-list{
  max-width: 1120px;
  margin: 0 auto;
  display: grid;
  gap: 18px;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
}

/* ä»¥å‰ã®ã€Œã‚«ãƒ¼ãƒ‰ã‚’ä¸­å¤®å¯„ã›ï¼†max-widthã€è¨­å®šãŒæ®‹ã£ã¦ãŸã‚‰ç„¡åŠ¹åŒ– */
.saves-list .mg-card{
  max-width: none;
  margin: 0;
}
/* ===== Savesï¼šãƒœã‚¿ãƒ³ãŒäºŒæ®µã«ãªã‚‰ãªã„ã‚ˆã†ã«å›ºå®š ===== */

/* ä¸‹æ®µï¼ˆãƒœã‚¿ãƒ³åˆ—ï¼‰ã‚’å¿…ãšæ¨ªä¸¦ã³ã«ã™ã‚‹ */
.saves-list .save-controls{
  display: flex;
  flex-direction: row !important; /* â† ã“ã“ã§å¼·åˆ¶ */
  align-items: center;
  justify-content: space-between;
  gap: 12px;
}

/* ãƒ”ãƒ³ï¼‹ç·¨é›†ï¼‹ã‚³ãƒ”ãƒ¼ã‚‚æ¨ªä¸€åˆ—ã«å›ºå®š */
.saves-list .save-actions{
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 10px;
  flex-wrap: nowrap;   /* â† wrapã•ã›ãªã„ */
}

/* ã‚«ãƒ¼ãƒ‰ãŒç‹­ã„æ™‚ã§ã‚‚è½ã¡ãªã„ã‚ˆã†ã«ãƒœã‚¿ãƒ³ã‚’å°‘ã—å°ã•ã */
.saves-list .btn.btn-mini{
  width: 70px;
  height: 36px;
  border-radius: 100px;
}

/* ã‚‚ã—ä»¥å‰ã®ã€Œãƒ¢ãƒã‚¤ãƒ«ã§ç¸¦ä¸¦ã³ã€ãƒ«ãƒ¼ãƒ«ãŒåŠ¹ã„ã¦ãŸã‚‰ç„¡åŠ¹åŒ– */
@media (max-width: 560px){
  .saves-list .save-controls{
    flex-direction: row !important;
    align-items: center;
  }
  .saves-list .save-actions{
    width: auto;
    justify-content: flex-end;
    flex-wrap: nowrap;
  }
}
/* ===== Savesï¼šã‚µã‚¤ã‚ºãƒ»æ—¥æ™‚ã‚’ä¸‹ã«ä¸‹ã’ã¦èª­ã¿ã‚„ã™ã ===== */

/* ãƒ•ã‚¡ã‚¤ãƒ«å */
.saves-list .mg-id{
  margin-bottom: 6px; /* ä¸‹ã«ä½™ç™½ã‚’ä½œã‚‹ */
}

/* ã‚µã‚¤ã‚ºãƒ»æ—¥æ™‚ */
.saves-list .mg-name{
  margin-top: -4px;    /* â† ã“ã“ã§ä¸‹ã’ã‚‹ */
  font-size: 0.85rem;
  color: rgba(220,230,255,0.72);

  /* è¦‹ãŸç›®ã‚’å°‘ã—â€œæµ®ã‹ã›ã‚‹â€ */
  position: relative;
  top: 2px;
}

/* ===== ãƒ”ãƒ³ãƒãƒ¼ã‚¯ã‚’ã‚‚ã£ã¨å·¦ã«å¯„ã›ã‚‹ ===== */
.saves-list .pin-form{
  margin-left: -8px;   /* â† ã“ã“ãŒåŠ¹ã */
}
/* ã‚µã‚¤ã‚ºãƒ»æ—¥æ™‚ã‚’ã•ã‚‰ã«è£œè¶³æƒ…å ±å¯„ã‚Šã« */
.saves-list .mg-name{
  background: rgba(120,180,255,.07);
  border-color: rgba(120,180,255,.12);
  font-size: 0.82rem;
  opacity: 0.9;
}
/* æ“ä½œã‚¨ãƒªã‚¢ã‚’ä¸€æ®µå¥¥ã¸ */
.saves-list .save-controls{
  opacity: 0.85;
}

/* hover ã—ãŸã‚«ãƒ¼ãƒ‰ã ã‘å°‘ã—æµ®ã‹ã›ã‚‹ */
.saves-list .mg-card:hover .save-controls{
  opacity: 1;
}


/* ===== Upload: title & preview ===== */
.upload-title-label{
  display:flex;
  flex-direction:column;
  gap:8px;
}

.upload-title-caption{
  font-size:.85rem;
  font-weight:700;
  letter-spacing:.04em;
  color:rgba(210,225,250,.82);
}

.upload-title{
  font-family:var(--sans);
}

/* ===== Gallery: title + tag row ===== */
.mg-title{
  font-weight:800;
  letter-spacing:.01em;
  color:#f0f4ff;
  margin-bottom:10px;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

.mg-tag{
  flex:1;
  background:linear-gradient(135deg, rgba(10,18,36,.92), rgba(8,14,28,.95));
  color:#e2e9ff;
  border:1px solid rgba(120,160,220,.32);
  border-radius:12px;
  font:700 .82rem/1.1 var(--mono);
  padding:10px 12px;
  height:38px;
  display:flex;
  align-items:center;
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;
}

.copy-inline{
  height:38px;
  width:38px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
}
.copy-inline.copied{
  outline: 2px solid rgba(101,177,255,.6);
  box-shadow: 0 0 0 3px rgba(101,177,255,.18);
}
.upload-preview-wrap{
  margin-bottom: 14px;
  text-align: center;
}

.upload-preview{
  max-height: 220px;
  max-width: 100%;
  object-fit: contain;
  border-radius: 12px;
  box-shadow: 0 12px 36px rgba(0,0,0,.35);
}

/* hiddenå±æ€§ã¯ç¢ºå®Ÿã«éè¡¨ç¤ºã«ã™ã‚‹ï¼ˆCSSä¸Šæ›¸ãå¯¾ç­–ï¼‰ */
[hidden] { display: none !important; }

.saves-search{
  display:flex;
  gap:10px;
  align-items:center;
  margin:12px 0 18px;
}
.saves-search__input{
  flex:1;
  min-width: 180px;
  padding: 10px 12px;
  border-radius: 12px;
}

.gallery-search{
  display:flex;
  gap:12px;
  align-items:center;
  margin-top:14px;
}

.gallery-search__input{
  flex:1;
  min-width: 180px;
  padding: 10px 12px;
  border-radius: 12px;
}

.gallery-search__btn{
  padding: 12px 18px;  /* â† ãƒœã‚¿ãƒ³ã‚’å¤§ãã */
  border-radius: 14px;
}
.panel-collapsible__summary{
  list-style:none;
  cursor:pointer;
}
.panel-collapsible__summary::-webkit-details-marker{
  display:none;
}

/* é–‹é–‰ã‚¢ã‚¤ã‚³ãƒ³ï¼ˆå³ç«¯ã« â–¼ï¼‰ */
.panel-collapsible__summary{
  position:relative;
  padding-right:42px;
}
.panel-collapsible__summary::after{
  content:"â–¾";
  position:absolute;
  right:18px;
  top:50%;
  transform:translateY(-50%);
  opacity:.75;
}
.panel-collapsible[open] .panel-collapsible__summary::after{
  content:"â–´";
}
.panel-collapsible__body{
  margin-top: 14px;
}

.vis-select{
  font-size: 12px;
  padding: 6px 8px;
  border-radius: 10px;
}
/* ===== Header icons unified ===== */
.ui-icon{
  width:18px;
  height:18px;
  opacity:.85;
  filter: brightness(1.15) saturate(0);
  transition: opacity .2s ease, transform .2s ease;
}

/* ãƒŠãƒ“ãƒ»æ¤œç´¢ãƒœã‚¿ãƒ³å…±é€š */
.nav-link,
.top-search__btn{
  width:42px;
  height:42px;
  padding:0;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  border-radius:999px;
  background:linear-gradient(
    135deg,
    rgba(88,144,255,.25),
    rgba(88,144,255,.12)
  );
  border:1px solid rgba(120,170,255,.35);
  box-shadow:0 10px 22px rgba(40,90,200,.35);
}

/* hover */
.nav-link:hover,
.top-search__btn:hover{
  transform: translateY(-1px);
  box-shadow:0 14px 28px rgba(60,120,240,.45);
}

.nav-link:hover .ui-icon,
.top-search__btn:hover .ui-icon{
  opacity:1;
}

/* active */
.nav-link.active{
  background:linear-gradient(
    135deg,
    rgba(120,180,255,.6),
    rgba(95,224,210,.55)
  );
  border-color:rgba(160,210,255,.8);
}
.top-search{
  display:flex;
  align-items:center;
  gap:10px;
}

.top-search__input{
  height:42px;
  border-radius:999px;
  padding:0 16px;
  background:linear-gradient(
    180deg,
    rgba(14,25,45,.85),
    rgba(8,14,26,.9)
  );
  border:1px solid rgba(120,170,255,.28);
  color:var(--fg);
}
.mg-thumb--placeholder{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:700;
  letter-spacing:.12em;
  color:rgba(200,220,255,.45);
  background:linear-gradient(
    180deg,
    rgba(10,18,36,.85),
    rgba(6,10,22,.9)
  );
}
/* ===== Explore Gallery: stylish actions ===== */
.explore-gallery .mg-actions--explore{
  display:flex;
  align-items:center;
  gap:10px;
}

.explore-gallery .mg-code--explore{
  flex:1;
  height:38px;
  border-radius:999px;
  background:linear-gradient(135deg, rgba(10,18,36,.92), rgba(8,14,28,.95));
  border:1px solid rgba(120,160,220,.26);
  color:rgba(230,238,255,.9);
  font:700 .82rem/1 var(--mono);
  padding:0 12px;
  opacity:.9;
}

/* â€œã‚³ãƒ¼ãƒ‰æ¬„ã¯åŸºæœ¬ã¯æ§ãˆã‚ã€ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã§ä¸»å¼µâ€ */
.explore-gallery .mg-code--explore:focus{
  opacity:1;
  border-color:rgba(140,190,255,.55);
  box-shadow:0 0 0 3px rgba(101,177,255,.14);
}

/* ã‚¢ã‚¤ã‚³ãƒ³ãƒœã‚¿ãƒ³åŒ– */
.explore-gallery .mg-btn--icon{
  width:38px;
  height:38px;
  padding:0;
  border-radius:999px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  background:linear-gradient(135deg, rgba(44,68,120,.72), rgba(30,48,92,.78));
  border:1px solid rgba(128,168,240,.28);
  box-shadow:0 12px 22px rgba(10,18,40,.35);
}

.explore-gallery .mg-btn--icon:hover{
  transform:translateY(-1px);
  border-color:rgba(150,205,255,.55);
  box-shadow:0 16px 28px rgba(20,40,90,.45);
}

/* mg-btn ã®ä¸­ã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’çµ±ä¸€ï¼ˆå˜è‰²å¯„ã›ï¼‰ */
.explore-gallery .mg-btn--icon .ui-icon{
  width:18px;
  height:18px;
  opacity:.92;
  filter:brightness(1.18) saturate(0);
}

/* ã‚°ãƒªãƒƒãƒ‰ã®è©°ã¾ã‚Šã‚’è‰¯ãã™ã‚‹ï¼ˆå³ãŒã‚¹ã‚«ã‚¹ã‚«å¯¾ç­–ï¼‰ */
.explore-gallery .mg-grid{
  margin-top:18px;
}
/* Explore savesï¼šã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆã« */
.explore-saves .save-controls--explore{
  margin-top: 10px;
}

.explore-saves .save-actions{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
}

.mg-thumb{
  display:block;
  position:relative;
  overflow:hidden;
  background:#050910;
  border-radius:18px;
  aspect-ratio: 3 / 2;   /* â˜…ã“ã“ãŒæœ¬å‘½ */
}

.mg-thumb > img{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit:cover;
  object-position:center;
  display:block;
}

.mg-thumb::before{
  content:none !important;
}
.toolbar{
  margin-top:14px;
  display:flex;
  justify-content:flex-end;
}
.toolbar select{
  margin-left:8px;
}

.preview-mode{
  display:flex;
  align-items:center;
  justify-content:center;
  padding:0;              /* aã‚¿ã‚°ã®ä½™ç™½ã‚’æ½°ã™ */
  width:auto;
  height:auto;
  background:transparent;  /* æ—¢å­˜ nav-cta ã¨å¹²æ¸‰ã•ã›ãªã„ */
  border:none;
  box-shadow:none;
}

.preview-mode select{
  height:42px;
  padding:0 14px;
  border-radius:999px;
  background:linear-gradient(135deg, rgba(88,144,255,.25), rgba(88,144,255,.12));
  border:1px solid rgba(120,170,255,.35);
  color:var(--fg);
}
/* ===== Editor: shortcut-bar preview button ===== */
.shortcut-bar{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  align-items:center;
}

/* æ—¢å­˜ .ins ã«å¯„ã›ã¤ã¤ã€ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã ã‘å°‘ã—â€œä¸»ãƒœã‚¿ãƒ³æ„Ÿâ€ */
.shortcut-bar .ins.ins-preview{
  display:inline-flex;
  align-items:center;
  gap:10px;
  padding:20px 20px;
  border-radius:999px;
  font-weight:800;
  letter-spacing:.02em;

  background:linear-gradient(135deg, rgb(76 106 167 / 35%), rgb(255 255 255 / 18%));
  border:1px solid rgba(120,170,255,.45);
  box-shadow:0 10px 22px rgba(10,18,40,.28);
}

.shortcut-bar .ins.ins-preview:hover{
  transform:translateY(-1px);
  filter:brightness(1.08);
}

.shortcut-bar .ins.ins-preview .ui-icon{
  width:18px;
  height:18px;
  opacity:.95;
  filter:brightness(1.15) saturate(0);
}
/* ===== Editor bottom action buttons ===== */
.editor-actions{
  display:flex;
  align-items:center;
  gap:12px;
  margin-top:10px;
}

.editor-actions .btn{
  height:44px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:10px;
}

/* å³ç«¯ã®â€œã‚¢ã‚¤ã‚³ãƒ³ã ã‘â€ã‚’ä¸¸ã«ã™ã‚‹ */
.editor-actions .btn.icon-round{
  width:44px;
  padding:0;
  border-radius:999px;
}

/* ã‚¢ã‚¤ã‚³ãƒ³ã®ä½ç½®ãƒ–ãƒ¬é˜²æ­¢ */
.editor-actions .btn.icon-round .ui-icon{
  width:18px;
  height:18px;
}
/* ===== Explore page polish ===== */

/* ã‚¿ãƒ–ã¨æ¤œç´¢ã‚’ä¸€æ®µã«ã¾ã¨ã‚ã‚‹ï¼ˆè¦–ç·šèª˜å°ï¼‰ */
.explore-tabs{
  display:flex;
  gap:10px;
  margin:14px 0 12px;
}

.explore-tabs .btn{
  height:40px;
  padding:0 14px;
  border-radius:12px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  font-weight:800;
  opacity:.85;
}

.explore-tabs .btn.is-active{
  opacity:1;
  background:linear-gradient(135deg, rgba(88,144,255,.35), rgba(88,144,255,.18));
  border:1px solid rgba(120,170,255,.45);
}

/* æ¤œç´¢ãƒãƒ¼ï¼šå…¥åŠ›ã¨ãƒœã‚¿ãƒ³ã®é«˜ã•/è§’ä¸¸ã‚’çµ±ä¸€ */
.gallery-search{
  display:flex;
  align-items:center;
  gap:12px;
  margin:0 0 14px;
}

.gallery-search__input{
  flex:1;
  height:44px;
  border-radius:14px;
  padding:0 14px;
}

.gallery-search .btn{
  height:44px;
  border-radius:14px;
  padding:0 16px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  font-weight:800;
}

/* ã‚µãƒ–ï¼ˆè¿½åŠ ï¼‰ã¯æ§ãˆã‚ã« */
.save-controls--explore .save-actions form .btn{
  height:40px;
  border-radius:999px;
  padding:0 14px;
  opacity:.92;
}

/* ã‚«ãƒ¼ãƒ‰å†…ã®ä½™ç™½ã‚’å´©ã—ã«ãã */
.save-controls--explore{
  margin:0;
}

/* ===== Explore saves card: tidy layout ===== */
.explore-saves .mg-body{
  display:grid;
  grid-template-columns: 1fr auto;
  grid-template-rows: auto auto;     /* ä¸Šæ®µ:æƒ…å ± / ä¸‹æ®µ:ãƒœã‚¿ãƒ³ */
  column-gap:14px;
  row-gap:12px;
  align-items:start;
}

/* å·¦ä¸Šï¼šã‚¿ã‚¤ãƒˆãƒ« */
.explore-saves .mg-id{
  grid-column:1;
  grid-row:1;
  margin:0;
}

/* å³ä¸Šï¼šãƒ¡ã‚¿æƒ…å ±ï¼ˆbyã€œã®ã‚«ãƒ—ã‚»ãƒ«ï¼‰ */
.explore-saves .mg-name{
  grid-column:2;
  grid-row:1;
  justify-self:end;
  white-space:nowrap;
}

/* ä¸‹æ®µï¼šãƒœã‚¿ãƒ³ã¯å·¦æƒãˆã§æ¨ªä¸¦ã³ */
.explore-saves .save-controls--explore{
  grid-column:1 / -1;
  grid-row:2;
}

.explore-saves .save-controls--explore .save-actions{
  display:flex;
  align-items:center;
  gap:10px;
  justify-content:flex-start;
}

/* ã€Œè‡ªåˆ†ã®ä¿å­˜ã«è¿½åŠ ã€ãŒç¸¦ã«æ½°ã‚Œã¦ã‚‹ã®ã‚’é˜²ã */
.explore-saves .save-controls--explore .btn{
  white-space:nowrap;
  height:40px;
  border-radius:999px;
  padding:0 16px;
}

/* â€œèª­ã‚€â€ã ã‘å°‘ã—å¼·èª¿ */
.explore-saves .save-controls--explore a.btn{
  font-weight:900;
  background:linear-gradient(135deg, rgba(88,144,255,.32), rgba(88,144,255,.16));
  border:1px solid rgba(120,170,255,.45);
}

/* ===== Explore buttons: make them cooler ===== */
.explore-saves .save-controls--explore .save-actions .btn{
  height:42px;
  padding:0 18px;
  border-radius:999px;
  font-weight:900;
  letter-spacing:.02em;

  background:linear-gradient(135deg, rgba(18,28,46,.75), rgba(8,12,22,.65));
  border:1px solid rgba(120,170,255,.28);
  box-shadow:
    0 10px 22px rgba(0,0,0,.26),
    inset 0 1px 0 rgba(255,255,255,.06);
  transition:transform .12s ease, filter .12s ease, border-color .12s ease;
}

.explore-saves .save-controls--explore .save-actions .btn:hover{
  transform:translateY(-1px);
  filter:brightness(1.08);
  border-color:rgba(120,170,255,.45);
}

.explore-saves .save-controls--explore .save-actions .btn:active{
  transform:translateY(0);
  filter:brightness(.98);
}

/* ä¸»ãƒœã‚¿ãƒ³ï¼ˆèª­ã‚€ï¼‰ã ã‘â€œé’â€ã‚’è¶³ã—ã¦ä¸»å½¹ã« */
.explore-saves .save-controls--explore .save-actions a.btn{
  background:linear-gradient(135deg, rgba(88,144,255,.38), rgba(88,144,255,.18));
  border-color:rgba(120,170,255,.55);
  box-shadow:
    0 14px 30px rgba(18,35,80,.32),
    inset 0 1px 0 rgba(255,255,255,.08);
}

/* ã‚µãƒ–ï¼ˆè‡ªåˆ†ã®ä¿å­˜ã«è¿½åŠ ï¼‰ã¯æ§ãˆã‚ã« */
.explore-saves .save-controls--explore .save-actions form .btn{
  opacity:.92;
}

/* 2ã¤ã®ãƒœã‚¿ãƒ³é–“ã®è©°ã¾ã‚Šã‚’å°‘ã—æ°—æŒã¡ã‚ˆã */
.explore-saves .save-controls--explore .save-actions{
  gap:12px;
}
/* ===== Explore saves: buttons grow naturally ===== */
.explore-saves .save-controls--explore .save-actions{
  display:flex;
  align-items:center;
  gap:12px;
  flex-wrap:nowrap; /* æ¨ªä¸€åˆ—ã§ä¿ã¤ */
}

.explore-saves .save-controls--explore .save-actions .btn{
  height:42px;
  padding:0 22px;          /* â˜… æ–‡è¨€ã«åˆã‚ã›ã¦è‡ªç„¶ã«ä¼¸ã³ã‚‹ */
  white-space:nowrap;      /* â˜… æŠ˜ã‚Šè¿”ã•ãªã„ */
  min-width:unset;         /* â˜… å¤‰ãªæœ€å°å¹…ã‚’æ®ºã™ */
  max-width:unset;         /* â˜… åˆ¶é™è§£é™¤ */
  flex:0 0 auto;           /* â˜… å‹æ‰‹ã«ç¸®ã¾ãªã„ */
  border-radius:999px;
  font-weight:900;
}
/* Explore Saves grid */
.explore-saves-grid{
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
}

/* Card inner layout */
.save-card .save-body{
  padding: 18px;
}

.save-title-row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 12px;
}

/* Title: 1è¡Œã§çœç•¥ã€æŠ¼ã—æ½°ã•ã‚Œãªã„ */
.save-title{
  font-weight: 800;
  letter-spacing: .01em;
  color: #f0f4ff;
  min-width: 0;              /* çœç•¥ã‚’åŠ¹ã‹ã›ã‚‹å¿…é ˆ */
  flex: 1 1 auto;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Actions: ãƒœã‚¿ãƒ³ç¾¤ */
.save-actions{
  display:flex;
  align-items:center;
  gap: 10px;
  flex: 0 0 auto;
}

/* formå†…ãƒœã‚¿ãƒ³ã®ä½™è¨ˆãªå´©ã‚Œé˜²æ­¢ */
.save-actions form{
  margin: 0;
  display:flex;
}

/* ãƒŸãƒ‹ãƒœã‚¿ãƒ³ã®å¹…ã‚’æƒãˆã‚‹ */
.save-actions .btn.btn-mini{
  height: 38px;
  padding: 0 14px;
  border-radius: 999px;
  white-space: nowrap;
}

/* ã‚³ãƒ”ãƒ¼ã¯æ§ãˆã‚ï¼ˆã‚´ãƒ¼ã‚¹ãƒˆï¼‰ */
.save-actions .btn-ghost{
  background: transparent !important;
  border: 1px solid rgba(255,255,255,0.16) !important;
  box-shadow: none !important;
}

/* ç”»é¢ãŒç‹­ã„æ™‚ã¯å³å´ã‚’æŠ˜ã‚Šè¿”ã— */
@media (max-width: 560px){
  .save-title-row{
    flex-direction: column;
    align-items: stretch;
  }
  .save-actions{
    justify-content: flex-end;
    flex-wrap: wrap;
  }
}
/* ============================
   Explore Saves (FINAL FIX)
   explore_saves.html å°‚ç”¨
   ============================ */

.explore-saves .explore-saves-grid{
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
}


.explore-saves .save-card{
  padding: 0; /* mg-cardå´ã«ä½™è¨ˆãªpaddingãŒå…¥ã£ã¦ã‚‹å ´åˆã®äº‹æ•…é˜²æ­¢ */
  display:flex;
  flex-direction:column;
}

.explore-saves .save-card .save-body{
  padding: 18px;
  display:flex;
  flex-direction:column;
  gap:12px;
}

/* ã“ã“ãŒå´©ã‚Œã®æœ¬ä½“ï¼šã‚¿ã‚¤ãƒˆãƒ«è¡Œã¯flexã§å›ºå®š */
.explore-saves .save-title-row{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
}

/* ã‚¿ã‚¤ãƒˆãƒ«ãŒæ½°ã‚Œãªã„ãƒ»çœç•¥ãŒåŠ¹ãæ¡ä»¶ */
.explore-saves .save-title{
  flex: 1 1 auto;
  min-width: 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* ãƒœã‚¿ãƒ³ç¾¤ã¯ç¸®ã¾ãªã„ãƒ»æŠ˜ã‚Œãªã„ */
.explore-saves .save-actions{
  display: flex;
  align-items: center;
  gap: 10px;
  flex: 0 0 auto;
  flex-wrap: nowrap;
}

.explore-saves .save-actions form{
  margin: 0;
  display: flex;
}

/* ãƒœã‚¿ãƒ³ã¯æ–‡è¨€ã§è‡ªç„¶ã«ä¼¸ã°ã™ï¼ˆå›ºå®šå¹…ã«ã—ãªã„ï¼‰ */
.explore-saves .save-actions .btn.btn-mini{
  height: 38px;
  padding: 0 14px;
  border-radius: 999px;
  white-space: nowrap;
  width: auto;       /* â† saves-listå´ã® â€œå¹…å›ºå®šâ€ ã‚’æ®ºã™ */
  min-width: unset;  /* â† å¤‰ãªåˆ¶ç´„ã‚’æ®ºã™ */
}

/* ã‚³ãƒ”ãƒ¼ã¯ã‚´ãƒ¼ã‚¹ãƒˆ */
.explore-saves .save-actions .btn-ghost{
  background: transparent !important;
  border: 1px solid rgba(255,255,255,0.16) !important;
  box-shadow: none !important;
}

.explore-saves .save-title{
  font-weight: 800;
  letter-spacing: .01em;
  color: #f0f4ff;
  min-width: 0;
  flex: 1 1 auto;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  font-size: 1.05rem;
}

.explore-saves .save-author{
  color: rgba(200,210,230,.7);
  font-size: .9rem;
}

.explore-saves .save-controls--explore{
  margin-top: auto;
}

/* ç‹­ã„ç”»é¢ã ã‘ç¸¦ç©ã¿ã«ã™ã‚‹ï¼ˆã“ã“ã ã‘ã¯è¨±å¯ï¼‰ */
@media (max-width: 560px){
  .explore-saves .save-title-row{
    flex-direction: column;
    align-items: stretch;
  }
  .explore-saves .save-actions{
    justify-content: flex-end;
    flex-wrap: wrap;
  }
}