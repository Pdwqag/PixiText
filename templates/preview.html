
{% extends "base.html" %}
{% block content %}
<section class="panel">
  <header class="panel-heading">
    <div class="panel-heading__text">
      <span class="panel-kicker">Live Preview</span>
      <h2 class="panel-title">プレビュー</h2>
      <p class="panel-description">書式や挿絵の表示を確認してから公開ステップへ進みましょう。</p>
    </div>
    <div class="panel-actions">
      <form method="post" action="{{ url_for('export') }}">
        <input type="hidden" name="text" value="{{ text|e }}">
        <input type="hidden" name="writing_mode" value="{{ writing_mode }}">
        <button type="submit">HTMLとして保存</button>
      </form>
    </div>
  </header>
  <div class="rendered">
    <div class="document {{ writing_mode }}">
      <section class="page single" id="page-{{p}}" data-index="{{p}}">
        <div class="page-inner">{{ page.html|safe }}</div>
      </section>
    </div>
  </div>
  <div class="bottom-pager">
    <div class="pager-center">
      <a class="page-arrow prev" href="{{ url_for('preview', p=prev_page) }}">&lsaquo;</a>
      {% for i in nums %}
        <a class="page-number {% if i==p %}active{% endif %}" href="{{ url_for('preview', p=i) }}">{{ i }}</a>
      {% endfor %}
      <a class="page-arrow next" href="{{ url_for('preview', p=next_page) }}">&rsaquo;</a>
    </div>
  </div>
</section>
{% endblock %}
